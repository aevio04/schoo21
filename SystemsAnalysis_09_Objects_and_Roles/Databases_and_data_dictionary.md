# Модель данных системы онлайн-записи барбершопа

## Описание сущностей

### Класс «Персоны»
**Назначение:** Хранение данных клиентов для регистрации, аутентификации, записи на услуги и коммуникации (SMS/звонки)

**Атрибуты:**
| Наименование | Ключ | Тип данных | Длина | Обязательность | Значение по умолчанию | Комментарии |
|--------------|------|------------|-------|----------------|-----------------------|-------------|
| person_id | PK | INTEGER | - | Да | AUTO_INCREMENT | Уникальный числовой идентификатор |
| login | UK | VARCHAR | 20 | Да | - | Номер телефона (для входа) |
| password | - | VARCHAR | 255 | Да | - | Зашифрованный пароль |
| first_name | - | VARCHAR | 50 | Да | - | Имя/отчество для обращения |
| phone_num | - | VARCHAR | 20 | Да | - | Контакт для SMS (дублирует логин) |
| reg_date | - | TIMESTAMP | - | Да | CURRENT_TIMESTAMP | Дата регистрации |

### Сущность «Клиенты»
**Назначение:** Хранение профилей клиентов для бронирования, уведомлений и отзывов

**Атрибуты:**
| Наименование | Ключ | Тип данных | Обязательность | Значение по умолчанию | Комментарии |
|--------------|------|------------|----------------|-----------------------|-------------|
| client_id | PK | INTEGER | Да | AUTO_INCREMENT | Уникальный ID клиента |
| person_id | FK | INTEGER | Да | - | Связь с учетными данными |
| date_client_since | - | DATE | Да | CURRENT_DATE | Дата первого визита |

### Сущность «Сотрудники»
**Назначение:** Хранение профилей персонала для управления расписанием

**Атрибуты:**
| Наименование | Ключ | Тип данных | Обязательность | Значение по умолчанию | Комментарии |
|--------------|------|------------|----------------|-----------------------|-------------|
| employee_id | PK | INTEGER | Да | AUTO_INCREMENT | Уникальный ID сотрудника |
| person_id | FK | INTEGER | Да | - | Связь с базовыми данными |
| date_hired | - | DATE | Да | CURRENT_DATE | Дата приема на работу |

### Сущность «Роли сотрудника»
**Назначение:** Разграничение прав доступа сотрудников

**Атрибуты:**
| Наименование | Тип данных | Обязательность | Комментарии |
|--------------|------------|----------------|-------------|
| role_id | INTEGER | Да | PK. Уникальный ID роли |
| employee_id | INTEGER | Да | FK к Сотрудникам |
| role_name | ENUM('мастер', 'менеджер') | Да | Функционал сотрудника |

### Сущность «Услуги»
**Назначение:** Перечень услуг барбершопа

**Атрибуты:**
| Наименование | Тип данных | Длина | Обязательность | Комментарии |
|--------------|------------|-------|----------------|-------------|
| service_id | INTEGER | - | Да | PK. Уникальный ID услуги |
| service_name | VARCHAR | 100 | Да | Название услуги |

### Сущность «Услуги мастера»
**Назначение:** Связь мастеров с оказываемыми услугами

**Атрибуты:**
| Наименование | Тип данных | Обязательность | Комментарии |
|--------------|------------|----------------|-------------|
| master_service_id | INTEGER | Да | PK. Уникальный ID связи |
| employee_id | INTEGER | Да | FK (только мастера) |
| service_id | INTEGER | Да | FK к Услугам |

### Сущность «Слоты обслуживания»
**Назначение:** Управление временными интервалами для записи

**Атрибуты:**
| Наименование | Тип данных | Обязательность | Значение по умолчанию | Комментарии |
|--------------|------------|----------------|-----------------------|-------------|
| slot_id | INTEGER | Да | AUTO_INCREMENT | PK. Уникальный ID слота |
| slot_date | DATE | Да | - | Дата услуги |
| start_time | TIME | Да | - | Начало интервала (1 час) |
| employee_id | INTEGER | Да | - | FK к мастеру |
| client_id | INTEGER | Нет | NULL | FK к клиенту |

### Сущность «Скидки клиенту»
**Назначение:** Управление персональными скидками

**Атрибуты:**
| Наименование | Тип данных | Обязательность | Значение по умолчанию | Комментарии |
|--------------|------------|----------------|-----------------------|-------------|
| discount_id | INTEGER | Да | AUTO_INCREMENT | PK. Уникальный ID скидки |
| client_id | INTEGER | Да | - | FK к клиенту |
| discount_percent | DECIMAL(5,2) | Да | - | Процент скидки |
| start_date | DATE | Да | - | Дата начала |
| end_date | DATE | Нет | NULL | Дата окончания |

### Сущность «Извещение клиента»
**Назначение:** Логирование уведомлений клиентам

**Атрибуты:**
| Наименование | Тип данных | Обязательность | Значение по умолчанию | Комментарии |
|--------------|------------|----------------|-----------------------|-------------|
| notification_id | INTEGER | Да | AUTO_INCREMENT | PK. Уникальный ID уведомления |
| client_id | INTEGER | Да | - | FK к клиенту |
| notification_type | ENUM(...) | Да | - | Канал отправки |
| message | TEXT | Да | - | Текст сообщения |
| sent_at | TIMESTAMP | Да | CURRENT_TIMESTAMP | Время отправки |
| delivery_status | ENUM(...) | Да | 'отправлено' | Статус доставки |

